Index: app/src/main/java/com/example/stockifi/Home/AjouterCategorie.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.stockifi.Home;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport com.example.stockifi.R;\r\n\r\npublic class AjouterCategorie extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_ajouter_categorie);\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/stockifi/Home/AjouterCategorie.java b/app/src/main/java/com/example/stockifi/Home/AjouterCategorie.java
--- a/app/src/main/java/com/example/stockifi/Home/AjouterCategorie.java	(revision 647d11281ad697e23d301638fdd99d82019d58a0)
+++ b/app/src/main/java/com/example/stockifi/Home/AjouterCategorie.java	(date 1703709004668)
@@ -3,14 +3,75 @@
 import androidx.appcompat.app.AppCompatActivity;
 
 import android.os.Bundle;
+import android.view.View;
+import android.widget.Button;
+import android.widget.EditText;
 
+import com.example.stockifi.GlobalVariables.MyApp;
 import com.example.stockifi.R;
 
+import org.json.JSONException;
+import org.json.JSONObject;
+
+import retrofit2.Call;
+import retrofit2.Callback;
+import retrofit2.Response;
+import retrofit2.Retrofit;
+import retrofit2.converter.gson.GsonConverterFactory;
+
 public class AjouterCategorie extends AppCompatActivity {
 
+    private ApiService apiService;
+
     @Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
         setContentView(R.layout.activity_ajouter_categorie);
+        MyApp myApp = (MyApp) getApplication();
+        int stockId = myApp.getUser_stock_id();
+        String url = "http://10.0.2.2:1111/categorie";
+        // Create Retrofit instance
+        Retrofit retrofit = new Retrofit.Builder()
+                .baseUrl(url) // replace with your base URL
+                .addConverterFactory(GsonConverterFactory.create())
+                .build();
+
+        // Create an instance of your ApiService interface
+        apiService = retrofit.create(ApiService.class);
+
+        Button ajouterButton = findViewById(R.id.button_ajouter);
+
+
+        ajouterButton.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                EditText categorieNameEditText = findViewById(R.id.catégorie);
+                String categorieName = categorieNameEditText.getText().toString();
+
+                // Create a Catégorie object with the necessary data
+                CategoryRequestBody categorie = new CategoryRequestBody(categorieName);
+
+                // Call the Retrofit method to add the category
+                Call<String> call = apiService.addCategory(categorie);
+                call.enqueue(new Callback<String>() {
+                    @Override
+                    public void onResponse(Call<String> call, Response<String> response) {
+                        // Handle the response from the server
+                        // You might want to check if the response is successful
+                        if (response.isSuccessful()) {
+                            // Category added successfully
+                        } else {
+                            // Handle error response
+                        }
+                    }
+
+                    @Override
+                    public void onFailure(Call<String> call, Throwable t) {
+                        // Handle errors here
+                        // You might want to display an error message to the user
+                    }
+                });
+            }
+        });
     }
-}
\ No newline at end of file
+}
Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\">\r\n\r\n    <uses-permission android:name=\"android.permission.INTERNET\" />\r\n    <uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" />\r\n    <uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\" />\r\n    <uses-permission android:name=\"android.permission.POST_NOTIFICATIONS\" />\r\n\r\n    <application\r\n        android:name=\".GlobalVariables.MyApp\"\r\n        android:allowBackup=\"true\"\r\n        android:dataExtractionRules=\"@xml/data_extraction_rules\"\r\n        android:fullBackupContent=\"@xml/backup_rules\"\r\n        android:icon=\"@mipmap/ic_launcher\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/Theme.Stockifi\"\r\n        android:usesCleartextTraffic=\"true\"\r\n        tools:ignore=\"ExtraText\"\r\n        tools:targetApi=\"31\">\r\n        <activity\r\n            android:name=\".Home.AjouterCategorie\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".Gestion_Produit.ListeProduit\"\r\n            android:exported=\"true\" />\r\n        <activity\r\n            android:name=\".Gestion_Produit.AjouterProduit_ListeProduit\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".Repas.ajouter_repas\"\r\n            android:exported=\"true\"\r\n            android:windowSoftInputMode=\"adjustPan\" />\r\n        <activity\r\n            android:name=\".Repas.ingredients_quantity\"\r\n            android:exported=\"false\"\r\n            android:windowSoftInputMode=\"adjustPan\" />\r\n        <activity\r\n            android:name=\".Repas.ingredients\"\r\n            android:exported=\"true\" />\r\n        <activity\r\n            android:name=\".Liste_Course.ModifierProduit\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".Liste_Course.AjouterProduit\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".Liste_Course.ListeDeCourse\"\r\n            android:exported=\"true\"\r\n            android:windowSoftInputMode=\"adjustPan\" />\r\n        <activity\r\n            android:name=\".Sprint2Activity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ProduitCardActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".Produit.AjouterProduitRecherche\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ConditionUtilisationActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ResetPasswordActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".RegisterActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ChangerPassword\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ProfilActivity\"\r\n            android:exported=\"true\"\r\n            android:windowSoftInputMode=\"adjustPan\" />\r\n        <activity\r\n            android:name=\".corbeille.corbeille\"\r\n            android:exported=\"true\"\r\n            android:windowSoftInputMode=\"adjustPan\" />\r\n        <activity\r\n            android:name=\".LoginActivity\"\r\n            android:exported=\"true\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n\r\n        <meta-data\r\n            android:name=\"preloaded_fonts\"\r\n            android:resource=\"@array/preloaded_fonts\" />\r\n    </application>\r\n\r\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/AndroidManifest.xml b/app/src/main/AndroidManifest.xml
--- a/app/src/main/AndroidManifest.xml	(revision 647d11281ad697e23d301638fdd99d82019d58a0)
+++ b/app/src/main/AndroidManifest.xml	(date 1703708804471)
@@ -22,16 +22,16 @@
         tools:targetApi="31">
         <activity
             android:name=".Home.AjouterCategorie"
-            android:exported="false" />
+            android:exported="true" />
         <activity
             android:name=".Gestion_Produit.ListeProduit"
-            android:exported="true" />
+            android:exported="false" />
         <activity
             android:name=".Gestion_Produit.AjouterProduit_ListeProduit"
             android:exported="false" />
         <activity
             android:name=".Repas.ajouter_repas"
-            android:exported="true"
+            android:exported="false"
             android:windowSoftInputMode="adjustPan" />
         <activity
             android:name=".Repas.ingredients_quantity"
@@ -39,7 +39,7 @@
             android:windowSoftInputMode="adjustPan" />
         <activity
             android:name=".Repas.ingredients"
-            android:exported="true" />
+            android:exported="false" />
         <activity
             android:name=".Liste_Course.ModifierProduit"
             android:exported="false" />
@@ -48,7 +48,7 @@
             android:exported="false" />
         <activity
             android:name=".Liste_Course.ListeDeCourse"
-            android:exported="true"
+            android:exported="false"
             android:windowSoftInputMode="adjustPan" />
         <activity
             android:name=".Sprint2Activity"
@@ -73,11 +73,11 @@
             android:exported="false" />
         <activity
             android:name=".ProfilActivity"
-            android:exported="true"
+            android:exported="false"
             android:windowSoftInputMode="adjustPan" />
         <activity
             android:name=".corbeille.corbeille"
-            android:exported="true"
+            android:exported="false"
             android:windowSoftInputMode="adjustPan" />
         <activity
             android:name=".LoginActivity"
Index: app/src/main/java/com/example/stockifi/Home/CategoryRequestBody.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/stockifi/Home/CategoryRequestBody.java b/app/src/main/java/com/example/stockifi/Home/CategoryRequestBody.java
new file mode 100644
--- /dev/null	(date 1703706727628)
+++ b/app/src/main/java/com/example/stockifi/Home/CategoryRequestBody.java	(date 1703706727628)
@@ -0,0 +1,9 @@
+package com.example.stockifi.Home;
+
+public class CategoryRequestBody {
+    private String categoryName;
+
+    public CategoryRequestBody(String categoryName) {
+        this.categoryName = categoryName;
+    }
+}
Index: app/src/main/java/com/example/stockifi/Home/ApiService.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/stockifi/Home/ApiService.java b/app/src/main/java/com/example/stockifi/Home/ApiService.java
new file mode 100644
--- /dev/null	(date 1703708947711)
+++ b/app/src/main/java/com/example/stockifi/Home/ApiService.java	(date 1703708947711)
@@ -0,0 +1,11 @@
+package com.example.stockifi.Home;
+
+import retrofit2.Call;
+import retrofit2.http.Body;
+import retrofit2.http.POST;
+import retrofit2.http.Path;
+
+public interface ApiService {
+    @POST("/categorie")
+    Call<String> addCategory(@Body CategoryRequestBody categoryRequestBody);
+}
Index: app/build.gradle.kts
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>plugins {\r\n    id(\"com.android.application\")\r\n    id (\"org.sonarqube\") version \"4.4.1.3373\"\r\n}\r\n\r\n\r\nandroid {\r\n    namespace = \"com.example.stockifi\"\r\n    compileSdk = 34\r\n\r\n    defaultConfig {\r\n        applicationId = \"com.example.stockifi\"\r\n        minSdk = 24\r\n        targetSdk = 34\r\n        versionCode = 1\r\n        versionName = \"1.0\"\r\n\r\n        testInstrumentationRunner = \"androidx.test.runner.AndroidJUnitRunner\"\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            isMinifyEnabled = false\r\n            proguardFiles(getDefaultProguardFile(\"proguard-android-optimize.txt\"), \"proguard-rules.pro\")\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility = JavaVersion.VERSION_1_8\r\n        targetCompatibility = JavaVersion.VERSION_1_8\r\n    }\r\n    buildFeatures {\r\n        viewBinding = true\r\n    }\r\n\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation(\"androidx.appcompat:appcompat:1.6.1\")\r\n    implementation(\"com.google.android.material:material:1.11.0\")\r\n    implementation(\"androidx.constraintlayout:constraintlayout:2.1.4\")\r\n    implementation(\"androidx.navigation:navigation-fragment:2.7.6\")\r\n    implementation(\"androidx.navigation:navigation-ui:2.7.6\")\r\n    implementation(\"androidx.test:core:1.5.0\")\r\n    testImplementation(\"junit:junit:4.13.2\")\r\n    testImplementation(\"org.mockito:mockito-core:3.12.4\")\r\n    testImplementation(\"org.mockito:mockito-android:3.12.4\")\r\n    androidTestImplementation(\"androidx.test.ext:junit:1.1.5\")\r\n    androidTestImplementation(\"androidx.test.espresso:espresso-core:3.5.1\")\r\n    androidTestImplementation(\"androidx.test.espresso:espresso-intents:3.5.1\")\r\n    androidTestImplementation(\"androidx.test.espresso:espresso-contrib:3.5.1\")\r\n    androidTestImplementation(\"androidx.test:runner:1.5.2\")\r\n    androidTestImplementation(\"androidx.test:rules:1.5.0\")\r\n    androidTestImplementation(\"org.hamcrest:hamcrest-library:2.2\")\r\n    implementation(\"com.android.volley:volley:1.2.1\")\r\n    implementation(\"com.github.bumptech.glide:glide:4.12.0\")\r\n    implementation(\"com.google.code.gson:gson:2.10.1\")\r\n\r\n\r\n}\r\n\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/build.gradle.kts b/app/build.gradle.kts
--- a/app/build.gradle.kts	(revision 647d11281ad697e23d301638fdd99d82019d58a0)
+++ b/app/build.gradle.kts	(date 1703706143900)
@@ -37,12 +37,16 @@
 dependencies {
 
     implementation("androidx.appcompat:appcompat:1.6.1")
+    implementation("com.squareup.retrofit2:retrofit:2.9.0")
+    implementation("com.squareup.retrofit2:converter-gson:2.9.0")
     implementation("com.google.android.material:material:1.11.0")
     implementation("androidx.constraintlayout:constraintlayout:2.1.4")
     implementation("androidx.navigation:navigation-fragment:2.7.6")
     implementation("androidx.navigation:navigation-ui:2.7.6")
     implementation("androidx.test:core:1.5.0")
+    implementation("com.google.firebase:firebase-crashlytics-buildtools:2.9.9")
     testImplementation("junit:junit:4.13.2")
+    implementation("androidx.annotation:annotation:1.4.0")
     testImplementation("org.mockito:mockito-core:3.12.4")
     testImplementation("org.mockito:mockito-android:3.12.4")
     androidTestImplementation("androidx.test.ext:junit:1.1.5")
